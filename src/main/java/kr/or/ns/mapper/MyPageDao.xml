<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.or.ns.dao.MyPageDao">

<!-- 회원정보 가져오기 -->
	<select id="getUsers" resultType="kr.or.ns.vo.Users">
		select * from users where user_id=#{USER_ID}
	</select>
	
	<select id="getSkill" resultType="hashmap">
		select skill_name, skill_level from skill where user_id=#{userid}
	</select>
<!-- 회원정보 가져오기 끝 -->

	<!-- 회원정보 수정 -->
	<update id="MyPageUserEdit" parameterType="kr.or.ns.vo.Users">
		update users
		set
		user_id = #{user_id}, user_pwd=#{user_pwd}, enabled=1,
		user_name=#{user_name}, user_email=#{user_email},
		profile_img =#{profile_img},
		nickname = #{nickname},
		introduce = #{introduce},
		blame_count = #{blame_count}
		where user_id = #{user_id}
	</update>

	<update id="editskill" parameterType="hashmap">
		update skill
		set skill_level = #{skill_level}
		where user_id = #{user_id}
		and skill_name = #{skill_name}
	</update>


	<!-- 회원정보 수정 끝 -->
	
	<!-- 회원탈퇴 -->
	<delete id="userDelete">
	delete from users
	where user_id = #{user_id}
	</delete>
	</mapper>