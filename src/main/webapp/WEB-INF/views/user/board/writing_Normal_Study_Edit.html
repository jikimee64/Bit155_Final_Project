<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>writing_normal_study</title>
<div th:replace="/user/includes/bootstrap_link :: bootstrap_link"></div>


<!-- Latest compiled and minified CSS -->
<link rel="stylesheet"
	href="../../../../resources/assets/vendor/selectbox/css/bootstrap-select.min.css">

<link
	href="../../../../resources/assets/vendor/summernote/summernote-lite.css"
	rel="stylesheet">
<link
	href="../../../../resources/assets/vendor/selectbox/bootstrap-select.css"
	rel="stylesheet">

<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-material-datetimepicker/2.7.1/css/bootstrap-material-datetimepicker.min.css">
<link rel="stylesheet"
	href="https://fonts.googleapis.com/icon?family=Material+Icons">


<style>
/* body {
         margin-top: 200px;
      } */

/* #category select {
         margin-right: 10px;
      } */
.filebox label {
	display: inline-block;
	padding: .5em .75em;
	color: black;
	font-size: inherit;
	line-height: normal;
	vertical-align: middle;
	background-color: #ffc107;
	cursor: pointer;
	border: 1px solid #ffc107;;
	border-bottom-color: #e2e2e2;
	border-radius: .25em;
}

.filebox input[type="file"] {
	/* 파일 필드 숨기기 */
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	border: 0;
}

.cover {
	background-image:
		url(../../../../resources/images/img/study_board_cover.jpg);
	background-position: center center;
	background-repeat: no-repeat;
	opacity: 0.7;
}

#row>.col-1 {
	margin-right: 50px;
}

._border_box_shadow2 {
	background: #fff;
	margin: auto;
	margin-top: 10px;
	margin-bottom: 10px;
	box-shadow: 1px 2px 10px 1px rgba(0, 0, 0, 0.16), 0 2px 5px 0
		rgba(0, 0, 0, 0.26);
	border-radius: 3px;
	padding: 0px;
	width: 100%;
	height: 100%;
}
</style>
</head>

<body>

	<div th:replace="/user/includes/header :: header"></div>
	<div th:replace="/user/includes/bootstrap_link :: bootstrap_link"></div>



	<main id="main">
		<!-- ======= Breadcrumbs Section ======= -->
		<section class="breadcrumbs cover"
			style="margin-top: 70px; height: 300px; padding: 1000 0 100 0px;">
			<div class="container d-flex h-100" style="padding: 200px 0;">
				<div class="row justify-content-center align-self-center">
					<h1 style="color: white; font-size: 50px;">
						<b>모집하기</b>
					</h1>
				</div>
			</div>

		</section>
		<!-- Breadcrumbs Section -->
	</main>
	<div class="_border_box_shadow2" style="width: 1430px;">
		<form class="" id="category">
			<div class="container" style="margin-bottom: 25px; margin-top: 40px;">
				<!-- <h2>스터디 모집 글 작성하ss기(일반)</h2> -->
				<!-- <br /> -->
				<div class="row" id="row" style="padding-top:30px;">
					<div class="col-1">
					
					
					
			<!-- 		<input type="hidden" class="LOC_SEQ" th:id="${study.LOC_SEQ}">
					<input type="hidden" class="LAN_SEQ" th:id="${study.LAN_SEQ}">
					<input type="hidden" class="S_SEQ" th:id="${study.S_SEQ}">
					<input type="hidden" class="LIKE_CNT" th:id="${study.LIKE_CNT}">
					<input type="hidden" class="PEOPLE" th:id="${study.PEOPLE}">
					<input type="hidden" class="LOC" th:id="${study.LOC}">
					<input type="hidden" class="READNUM" th:id="${study.READNUM}">
					<input type="hidden" class="CONTENT_KIND" th:id="${study.CONTENT_KIND}">
					<input type="hidden" class="USER_ID" th:id="${study.USER_ID}">
					<input type="hidden" class="LEVEL" th:id="${study.LEVEL}">
					<input type="hidden" class="CATE_LANGUAGE" th:id="${study.CATE_LANGUAGE}">
					<input type="hidden" class="DEADLINE" th:id="${study.DEADLINE}">
					<input type="hidden" class="STATUS" th:id="${study.STATUS}">
					<input type="hidden" class="IMAGE" th:id="${study.IMAGE}">
					<input type="hidden" class="WRITE_DATE" th:id="${study.WRITE_DATE}">
					<input type="hidden" class="FILESRC" th:id="${study.FILESRC}">
					<input type="hidden" class="FILESRC2" th:id="${study.FILESRC2}">
					<input type="hidden" class="TITLE" th:id="${study.TITLE}">
					<input type="hidden" class="CONTENT" th:id="${study.CONTENT}"> -->
					
					
					
						<select name="" class="selectpicker mb-3" data-style="btn-light" id="lan"
							style="width: 10%;" data-live-search="true" data-width="120px">
							<option value="언어" selected>언어</option>
							<option value="Java">Java</option>
							<option value="Javascript">Javascript</option>
							<option value="HTML/CSS">HTML/CSS</option>
							<option value="Spring">Spring</option>
							<option value="Python">Python</option>
							<option value="Vue.js">Vue.js</option>
							<option value="React">React</option>
							<option value="JQuery">JQuery</option>
							<option value="JSP">JSP</option>
							<option value="Bootstrap">Bootstrap</option>
							<option value="JPA">JPA</option>
						</select>
					</div>
					<div class="col-1">
						<select name="" class="selectpicker mb-3" data-style="btn-light"
							id="people" style="width: 10%;" data-live-search="true"
							data-width="120px">
							<option value="모집인원" selected>모집인원</option>
							<option value="1">1명</option>
							<option value="2">2명</option>
							<option value="3">3명</option>
							<option value="4">4명</option>
							<option value="5">5명</option>
							<option value="6">6명</option>
							<option value="7">7명</option>
							<option value="8">8명</option>
							<option value="9">9명</option>
							<option value="10">10명</option>
						</select>
					</div>

					<div class="col-1">
						<select name="" class="selectpicker mb-3" data-style="btn-light"
							id="loc" style="width: 10%;" data-live-search="true"
							data-width="120px">
							<option value="지역" selected>지역</option>
							<option value="온라인">온라인</option>
							<option value="충청북도">충북</option>
							<option value="충청남도">충남</option>
							<option value="경기도">경기도</option>
							<option value="전라북도">전북</option>
							<option value="전라남도">전남</option>
							<option value="경상남도">경남</option>
							<option value="경상북도">경북</option>
							<option value="강원도">강원도</option>
							<option value="세종특별시">세종시</option>
							<option value="서울특별시">서울시</option>
							<option value="인천광역시">인천시</option>
							<option value="제주특별시">제주시</option>
						</select>
					</div>
					<div class="col-1">
						<select name="" class="selectpicker mb-3" data-style="btn-light"
							id="level" style="width: 10%;" data-live-search="true"
							data-width="120px">
							<option value="난이도" selected>난이도</option>
							<option value="입문">입문</option>
							<option value="초급">초급</option>
							<option value="중급이상">중급이상</option>
						</select>
					</div>
					<div class="col-3">
						<input style="margin-bottom: 15px; width: 164px;" type="text"
							class="form-control" name="selectend" id="date-time"
							th:value="${study.DEADLINE}" placeholder="모집마감일">
					</div>
					<!-- <select name="" class="custom-select mb-3" style="width: 10%;">
				<option selected>모집마감일</option>
				<option value="_calendar">달력</option>
			</select> -->
				</div>
			</div>

			<hr style="border-color: rgb(224, 224, 224); width: 95%">


			<div class="container" style="margin-bottom: 25px;">
				<div class="row">
					<div class="col-md-9">
						<div class="row">
							<div class="col-md-12">
								<br />
								<div class="form-group">
									<input type="text" class="form-control" id="usr"
										name="username" placeholder="글 제목을 입력해주세요"
										th:value="${study.TITLE}">
								</div>
							</div>

							<!-- <div class="col-md-5" style="width: 100%; padding-left: 40px;">
                     <div class="row" style="margin: 0 auto;">
                        <div class="form-group" style="margin: 0">
                           <div class="custom-file mb-3">
                              <input type="file" class="custom-file-input" id="customFile" name="files[0]">
                              <label class="custom-file-label" for="customFile">Choose file</label>
                           </div>
                        </div>

                        <div class="form-group" style="margin: 0">
                           <div class="custom-file mb-3">
                              <input type="file" class="custom-file-input" id="customFile" name="files[1]">
                              <label class="custom-file-label" for="customFile">Choose file</label>
                           </div>
                        </div>
                     </div>
                  </div> -->
						</div>
						<div class="form-group">
							<textarea id="summernote" name="n_content" class="contentt"></textarea>
							<!-- <textarea name="" id="" cols="30" rows="10" class="form-control"
                     placeholder="글 내용을 입력해주세요"></textarea> -->
							<!-- textarea가 form으로 데이터를 넘겨줄수 있는지는 모르겟음
                  나중에 썸머노트로 바꿔야할듯 -->
						</div>
						<div style="text-align: center; padding-bottom:30px;">
							<button type="submit" class="btn btn-primary"
								style="width: 15%; background-color: #18d26e; border-color: #18d26e;">작성</button>
						</div>
					</div>

					<div class="col-md-3" style="margin-top: 24px;">
						<!--    <div
               style="border-left: 1px solid rgb(224, 224, 224); height: 100%; padding-left: 20px;">
               디폴트이미지 3개 중 하나 출력하거나 아니면 이미지 선택 (이건아직 안함) -->
						<div class="form-group" style="margin: 0">
							<img id="preview" src="/studyboard/upload/호랭이.jpg" alt="썸네일"
								style="margin-bottom: 15px; width: 280px; height: 200px;">
							<div class="filebox"
								style="text-align: center; margin-left: 22px;">
								<label for="ex_file">썸네일 업로드</label> <input name="files[0]"
									type="file" id="ex_file" style="width: 100%;">
							</div>
							<!-- <div class="custom-file mb-3" style="width:280px;">
                                 <input type="file" class="custom-file-input" name="files[0]" id="Thum">
                                 <label class="custom-file-label" for="customFile">썸네일</label>
                              </div> -->
						</div>

						<div class="form-group" style="margin: 0">
							<div class="custom-file mb-3" style="width: 280px;">
								<input type="file" class="custom-file-input" id="customFile"
									name="files[1]"> <label class="custom-file-label"
									id="pname" for="customFile">Choose file1</label>
							</div>
						</div>

						<div class="form-group" style="margin: 0">
							<div class="custom-file mb-3" style="width: 280px;">
								<input type="file" class="custom-file-input" id="customFile"
									name="files[2]"> <label class="custom-file-label"
									id="pname2" for="customFile">Choose file2</label>
							</div>
						</div>

						<!-- <label
               class="custom-file-label" for="inputGroupFile01"
               style="text-align: left">Choose file</label> -->


						<!-- <img class="card-img-top"
                  src="https://file3.instiz.net/data/cached_img/upload/2020/02/08/14/bd5841404e045a4781679d91d2a427d8.gif
               "
                  alt="Card image" style="width: 100%"> <br /> <br />
               <div style="text-align: center;">
                  <button type="button" class="btn btn-success">이미지 첨부</button>
               </div> -->
					</div>
				</div>
			</div>
		</form>
	</div>
	<div th:replace="/user/includes/footer :: footer"></div>
	<div th:replace="/user/includes/bootstrap_script :: bootstrap_script"></div>

	<script
		src="../../../../resources/assets/vendor/summernote/summernote-lite.js"></script>

	<script type="text/javascript"
		src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/moment.min.js"></script>
	<script type="text/javascript"
		src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-material-datetimepicker/2.7.1/js/bootstrap-material-datetimepicker.min.js"></script>
	<script type="text/javascript"
		src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.20.1/locale/ja.js"></script>

	<!-- Latest compiled and minified JavaScript -->
	<script
		src="../../../../resources/assets/vendor/selectbox/js/bootstrap-select.min.js"></script>

	<!-- (Optional) Latest compiled and minified JavaScript translation files -->
	<script
		src="../../../../resources/assets/vendor/selectbox/js/i18n/defaults-ko_KR.min.js"></script>

	<script>
		//   이건 파일첨부할때 쓰는 w3shool 에서 긁어온aaaaaaaaa거
		//https://www.w3schools.com/bootstrap4/tryit.asp?filename=trybs_form_custom_file&stacked=h
		// Add the following code if you want the name of the file appear on select
		$(".custom-file-input").on(
				"change",
				function() {
					var fileName = $(this).val().split("\\").pop();
					$(this).siblings(".custom-file-label").addClass("selected")
							.html(fileName);
				});
	</script>


	<script>
		$(document).ready(function() {

			//글내용 
			$('#summernote').summernote({
				tabsize : 2,
				height : 500,
				focus : false,
				minHeight : null,
				maxHeight : null,
				placeholder : $('.CONTENT').attr('id')
			});
			$("p").each(function() {
				if (!$(this).text().trim().length) {
					$(this).remove();
				}
			});

			//파일명			
			$('#pname').html($('.FILESRC').attr('id'));
			$('#pname2').html($('.FILESRC2').attr('id'));

			//select 태그 옵션에 selected 주기////////////////////////////////

			//언어선택
			var cateLan = $('.CATE_LANGUAGE').attr('id');
			$('select[id="lan"]').val(cateLan);

			//모집인원
			var catepeo = $('.PEOPLE').attr('id');
			$('select[id="people"]').val(catepeo);

			//지역
			var cateloc = $('.LOC').attr('id');
			$('select[id="loc"]').val(cateloc);

			//level
			var catelev = $('.LEVEL').attr('id');
			$('select[id="level"]').val(catelev);

			/* var lanList = $('#lan').children();
			console.log(lanList);
			
			
			//배열 출력
			var vallist = new Array;
			for(var i=0 ; i<lanList.length ; i++){ 
			    vallist[i] = lanList[i].value;
				console.log(lanList[i].value);
			}
			
			var isExist = false;
			for(var i = 0 ; i<vallist.length ; i++){
			    if(vallist[i] === cateLan ){
			        isExist = true;
			        console.log(vallist[i])
			    }
			} */

		});
	</script>

	<!-- mysql이랑 맞출것  -->
	<script>
		$(function() {
			$('#date-time').bootstrapMaterialDatePicker({
				format : 'YYYY-MM-DD HH:mm'
			});
		});
	</script>


	<script>
		//썸네일 시작
		var file = document.querySelector('#ex_file');

		file.onchange = function() {
			var fileList = file.files;

			// 읽기
			var reader = new FileReader();
			reader.readAsDataURL(fileList[0]);

			//로드 한 후
			reader.onload = function() {
				console.log('잘되니?')
				document.querySelector('#preview').src = reader.result;
				console.log('잘되니222?')
				console.log('잘되니222?')
			};
		};
	</script>
	
	<script>
		$(function() {
			$("#category").submit(function(e) {
				var formData = new FormData(this);
				console.log("데이터 : " + formData)
				$.ajax({
					url :"/board/writing_Normal_Study_Edit.do",
					processData : false,
					contentType : false,
					cache : false,
					type : 'POST',
					data : formData,
					success : function(data) {
					},
					error : function(e) {
						console.log("error:", e);
					}
				})
			})
		});
	</script>

</body>



</html>